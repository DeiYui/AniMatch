# AniMatch AI - コンテキスト認識型アニメレコメンデーション

[For English description](./README.md) | **日本語 (Japanese)**

![Status](https://img.shields.io/badge/Status-Prototype-blue) ![Tech](https://img.shields.io/badge/Tech-Next.js_TypeScript-black) ![Logic](https://img.shields.io/badge/Logic-Vector_Space_Model-purple)

## 📖 概要 (Overview)
**AniMatch**は、「選択のパラドックス（Choice Paralysis）」という課題を解決するために設計された、ロジック重視のAIアシスタントです。

従来のジャンル検索（「アクション」「コメディ」など）ではなく、「激しいアクションが見たいが、ストーリーは複雑すぎないものがいい」といったユーザーの**感情コンテキスト**に基づいてアニメを推奨します。

本プロジェクトは、**ベクトル空間モデル (Vector Space Model)** と **コサイン類似度 (Cosine Similarity)** を応用し、パーソナライズされたレコメンデーションエンジンをスクラッチ（ゼロベース）で構築した実証モデルです。

---

## 🚀 動作原理 (The Core Logic)

システムは、すべてのアニメ作品とユーザーの好みを5次元空間上のベクトルとして扱います。
$$V = [Romance, Action, Drama, Complexity, Visuals]$$

最適なマッチングを見つけるために、ユーザーベクトル ($A$) と各アニメベクトル ($B$) の間の **コサイン類似度** を計算します。

$$Similarity = \cos(\theta) = \frac{A \cdot B}{\|A\| \|B\|}$$

* **内積 ($A \cdot B$):** ベクトルの方向性（特徴の一致度）を測定します。
* **大きさ ($\|A\| \|B\|$):** ベクトルを正規化します。これにより、スライダーを最大値まで動かすユーザーと、控えめに設定するユーザーの間で、各特徴の**比率**が同じであれば同じ結果が得られるように調整されます。

---

## 💡 エンジニアリングとUXの決定事項

### 1. 入力の量子化 (Input Quantization - 0.25ステップの法則)
* **課題:** 当初は連続的な入力（例: 0.1, 0.12...）を許可していましたが、これには「偽の精度（False Precision）」の問題がありました。ユーザーにとって0.9と1.0の違いは区別しにくいにもかかわらず、システムの結果が変動してしまうため、UXが混乱する原因となりました。
* **解決策:** スライダーを**0.25刻み**（0.0, 0.25, 0.5, 0.75, 1.0）に固定する**入力の量子化**を実装しました。
* **利点:** これにより、数学的モデルとユーザーのメンタルモデル（低、中、バランス、高、最大）が一致し、一貫性のある説明可能な結果が得られるようになりました。

### 2. 手動エンべディング (Manual Embeddings)
* **アプローチ:** 過去の行動データが存在しない「コールドスタート」システムであるため、データセットの特徴ベクトルを手動で設計（Feature Engineering）しました。
* **トレードオフ:** 主観的なバイアスが含まれる可能性がありますが、学習フェーズなしで即座に機能する（ゼロショットレコメンデーション）ことが可能です。

---

## 🛠️ 技術スタックとアーキテクチャ

コード品質と保守性を重視し、モダンで型安全なスタックを選択しました。
(Pythonの使用は非推奨という要件に基づき、TypeScriptを採用しています)

* **言語:** TypeScript (ベクトルの型定義を厳格化)
* **フロントエンド:** Next.js + Tailwind CSS (リアルタイム可視化)
* **ロジック:** Pure JavaScript/Math (線形代数関数の独自実装)

### プロジェクト構造
```bash
src/
├── types/       # データ契約 (アニメとベクトルのインターフェース)
├── data/        # モックデータベース (手動特徴量エンジニアリング)
├── utils/       # "脳" (数学関数: dotProduct, cosineSimilarity)
└── app/         # プレゼンテーション層 (UIとセマンティックマッピング)

```

---

## ⚠️ 制限事項 (Limitations)

1. **主観的バイアス:** 現在の特徴ベクトルは個人の評価に基づいています。本番環境では、コミュニティタグの集約やレビューのNLP分析から自動生成する必要があります。
2. **スケーラビリティ:** 現在の検索計算量は  です。データセットが1万件を超える場合、**近似最近傍探索 (ANN)** の導入や、Pineconeのようなベクトルデータベースの使用が必要になります。

---

## 🏃‍♂️ 実行方法 (How to Run)

1. **依存関係のインストール:**

```bash
npm install

```

2. **開発サーバーの起動:**

```bash
npm run dev

3. ブラウザで [http://localhost:3000](https://www.google.com/search?q=http://localhost:3000) を開いてアプリケーションを確認してください。

```

```
